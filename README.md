# IM Chat Demo

ä¸€å€‹ä½¿ç”¨ Electron + Vue 3 + WebSocket å»ºç«‹çš„æ¡Œé¢å³æ™‚é€šè¨Šæ‡‰ç”¨ç¨‹å¼ Demo,ç”¨æ–¼å±•ç¤ºå³æ™‚é€šè¨ŠåŠŸèƒ½ã€‚

## æŠ€è¡“æ£§

- **Frontend**: Vue 3 + Vite + TypeScript + Tailwind CSS
- **Backend**: Node.js + TypeScript + WebSocket (ws)
- **Desktop**: Electron
- **State Management**: Pinia

## åŠŸèƒ½ç‰¹è‰²

âœ… ç”¨æˆ¶è¨»å†Šèˆ‡ç™»å…¥
âœ… ä¸€å°ä¸€èŠå¤©
âœ… ç¾¤çµ„èŠå¤©
âœ… è¨Šæ¯ç‹€æ…‹è¿½è¹¤ (å·²é€å‡º/å·²é€é”/å·²è®€)
âœ… æ‰“å­—ä¸­æç¤º
âœ… åœ–ç‰‡ä¸Šå‚³èˆ‡å‚³é€
âœ… æœ¬åœ°è¨Šæ¯å„²å­˜ (Pinia)
âœ… å³æ™‚åœ¨ç·šç‹€æ…‹

## å°ˆæ¡ˆçµæ§‹

```
im-chat-demo/
â”œâ”€â”€ server/          # WebSocket ä¼ºæœå™¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts    # ä¼ºæœå™¨ä¸»ç¨‹å¼
â”‚   â”‚   â”œâ”€â”€ types.ts    # é¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ store.ts    # è¨˜æ†¶é«”è³‡æ–™å„²å­˜
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ client/          # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # Vue å…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationList.vue
â”‚   â”‚   â”‚   â””â”€â”€ MessageList.vue
â”‚   â”‚   â”œâ”€â”€ composables/       # Composables
â”‚   â”‚   â”‚   â””â”€â”€ useChatSocket.ts
â”‚   â”‚   â”œâ”€â”€ stores/            # Pinia stores
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.ts
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ electron/        # Electron ä¸»ç¨‹å¼
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ main.ts      # Electron ä¸»ç¨‹åº
    â”‚   â””â”€â”€ preload.ts   # Preload è…³æœ¬
    â””â”€â”€ package.json
```

## å®‰è£èˆ‡åŸ·è¡Œ

### 1. å®‰è£ä¾è³´

```bash
# å®‰è£ server ä¾è³´
cd server
npm install

# å®‰è£ client ä¾è³´
cd ../client
npm install

# å®‰è£ electron ä¾è³´
cd ../electron
npm install
```

### 2. å•Ÿå‹•å°ˆæ¡ˆ

#### é–‹ç™¼æ¨¡å¼ (æ¨è–¦å…ˆç”¨ç¶²é ç‰ˆæ¸¬è©¦)

```bash
# çµ‚ç«¯æ©Ÿ 1: å•Ÿå‹• WebSocket ä¼ºæœå™¨
cd server
npm run dev

# çµ‚ç«¯æ©Ÿ 2: å•Ÿå‹• Vue å‰ç«¯ (ç¶²é ç‰ˆ)
cd client
npm run dev
```

ç„¶å¾Œåœ¨ç€è¦½å™¨æ‰“é–‹ `http://localhost:3000`

#### Electron æ¡Œé¢ç‰ˆ

```bash
# ç¢ºä¿ server å’Œ client éƒ½åœ¨é‹è¡Œ
# çµ‚ç«¯æ©Ÿ 3: å•Ÿå‹• Electron
cd electron
npm run dev
```

### 3. å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬

```bash
# å»ºç½® client
cd client
npm run build

# å»ºç½® server
cd ../server
npm run build

# å»ºç½® electron (æœªä¾†å¯é…ç½® electron-builder)
cd ../electron
npm run build
```

## ä½¿ç”¨èªªæ˜

1. **è¨»å†Šå¸³è™Ÿ**: é¦–æ¬¡ä½¿ç”¨è«‹é»é¸ã€Œè¨»å†Šã€,è¼¸å…¥å¸³è™Ÿå¯†ç¢¼
2. **ç™»å…¥**: ä½¿ç”¨å·²è¨»å†Šçš„å¸³è™Ÿå¯†ç¢¼ç™»å…¥
3. **é–‹å§‹èŠå¤©**: é¸æ“‡å·¦å´çš„ç”¨æˆ¶é–‹å§‹ä¸€å°ä¸€èŠå¤©
4. **å»ºç«‹ç¾¤çµ„**: é»æ“Šã€Œå»ºç«‹ç¾¤çµ„ã€æŒ‰éˆ•,é¸æ“‡æˆå“¡å¾Œå»ºç«‹ç¾¤çµ„èŠå¤©
5. **ç™¼é€è¨Šæ¯**: åœ¨è¼¸å…¥æ¡†è¼¸å…¥æ–‡å­—å¾ŒæŒ‰ Enter æˆ–é»æ“Šã€Œç™¼é€ã€
6. **ä¸Šå‚³åœ–ç‰‡**: é»æ“Š ğŸ“ æŒ‰éˆ•é¸æ“‡åœ–ç‰‡ä¸Šå‚³

## è¨Šæ¯ç‹€æ…‹èªªæ˜

- âœ“ : å·²é€å‡º (sent)
- âœ“âœ“ : å·²é€é” (delivered)
- âœ“âœ“ (è—è‰²) : å·²è®€ (read)

## é–‹ç™¼è¨ˆåŠƒ

- [ ] è¨Šæ¯æŒä¹…åŒ– (IndexedDB)
- [ ] è¨Šæ¯æœå°‹åŠŸèƒ½
- [ ] æª”æ¡ˆå‚³è¼¸
- [ ] èªéŸ³/è¦–è¨Šé€šè©±
- [ ] è¨Šæ¯åŠ å¯†
- [ ] æ¨æ’­é€šçŸ¥
- [ ] è¡¨æƒ…ç¬¦è™Ÿé¸æ“‡å™¨
- [ ] è¨Šæ¯å›è¦†/å¼•ç”¨
- [ ] ä½¿ç”¨è€…å€‹äººè³‡æ–™
- [ ] æ·±è‰²æ¨¡å¼

## æ³¨æ„äº‹é …

- WebSocket ä¼ºæœå™¨é è¨­é‹è¡Œåœ¨ `ws://localhost:8080`
- Vite é–‹ç™¼ä¼ºæœå™¨é è¨­é‹è¡Œåœ¨ `http://localhost:3000`
- æ‰€æœ‰è³‡æ–™éƒ½å„²å­˜åœ¨è¨˜æ†¶é«”ä¸­,ä¼ºæœå™¨é‡å•Ÿå¾Œè³‡æ–™æœƒæ¶ˆå¤±
- åœ–ç‰‡ä»¥ base64 æ ¼å¼å„²å­˜å’Œå‚³è¼¸

## License

MIT
